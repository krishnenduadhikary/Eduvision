<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topic 5: Normalization - EduVision</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            /* Dark Blue-Grey */
            --primary-light: #3d566e;
            --primary-dark: #1a252f;

            --secondary-color: #3498db;
            /* Bright Blue */
            --secondary-light: #5dade2;
            --secondary-dark: #2980b9;

            --accent-color: #e74c3c;
            /* Red */

            --light-bg: #f8f9fa;
            /* Off-white */
            --light-text: #495057;
            /* Dark Grey */
            --light-card: #ffffff;
            --light-border: #e0e0e0;

            --dark-bg: #1a252f;
            /* Very Dark Blue-Grey */
            --dark-text: #f8f9fa;
            /* Light Grey */
            --dark-card: #2c3e50;
            /* Dark Blue-Grey (same as light primary) */
            --dark-border: #3d566e;
            /* Lighter than dark card */

            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #3498db;

            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;

            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.1);

            --transition: all 0.3s ease-in-out;
        }

        /* Dark mode overrides for semantic colors if they were defined with light/dark specifics */
        html.dark-mode {
            --primary-color: #5dade2;
            /* Light Blue for dark mode primary */
            --primary-light: #85c1e9;
            --primary-dark: #3498db;

            --secondary-color: #bdc3c7;
            /* Light Grey for dark mode secondary */
            --secondary-light: #ecf0f1;
            --secondary-dark: #95a5a6;
        }


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
            line-height: 1.7;
            color: var(--light-text);
            background-color: var(--light-bg);
            padding-top: 80px;
            /* Height of the fixed header */
            transition: var(--transition);
        }

        html.dark-mode body {
            color: var(--dark-text);
            background-color: var(--dark-bg);
        }

        /* Typography */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Nunito Sans', 'Inter', sans-serif;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
            color: var(--primary-dark);
            /* Use darker primary for headings in light mode */
        }

        html.dark-mode h1,
        html.dark-mode h2,
        html.dark-mode h3,
        html.dark-mode h4,
        html.dark-mode h5,
        html.dark-mode h6 {
            color: var(--primary-light);
            /* Use lighter primary for headings in dark mode */
        }

        h1 {
            font-size: 2.8rem;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        h2 {
            font-size: 2.2rem;
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 0.6rem;
            margin-top: 2.5rem;
        }

        h3 {
            font-size: 1.8rem;
            margin-top: 2rem;
        }

        h4 {
            font-size: 1.5rem;
        }

        h5 {
            font-size: 1.25rem;
            color: var(--secondary-dark);
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        html.dark-mode h5 {
            color: var(--secondary-light);
        }


        p {
            margin-bottom: 1.25rem;
            font-size: 1.05rem;
        }

        p.lead {
            font-size: 1.2rem;
            color: var(--light-text);
            opacity: 0.9;
            text-align: center;
            margin-bottom: 2rem;
        }

        html.dark-mode p.lead {
            color: var(--dark-text);
        }


        a {
            color: var(--secondary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        a:hover {
            color: var(--secondary-dark);
            text-decoration: underline;
        }

        ul,
        ol {
            padding-left: 20px;
            margin-bottom: 1.25rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Layout */
        .page-container {
            /* Renamed from .container to avoid conflict if bootstrap is ever used */
            display: grid;
            grid-template-columns: 280px 1fr;
            /* Slightly wider sidebar */
            gap: 2.5rem;
            max-width: 1500px;
            /* Wider max-width for larger screens */
            margin: 0 auto;
            padding: 2.5rem;
        }

        @media (max-width: 1024px) {

            /* Adjusted breakpoint */
            .page-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                display: none;
                /* Hide sidebar on smaller screens, rely on scrolling */
            }
        }

        /* Header */
        header.main-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2.5rem;
            box-shadow: var(--shadow-md);
            z-index: 1000;
        }

        html.dark-mode header.main-header {
            background-color: var(--dark-card);
            /* Match dark card for header in dark mode */
            color: var(--dark-text);
        }

        .header-topic-title {
            flex-grow: 1;
            text-align: center;
            font-size: 1.1em;
            font-weight: 600;
            color: white;
            /* Ensure this text is white on dark header */
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            padding: 0 15px;
            /* Space around title */
        }

        html.dark-mode .header-topic-title {
            color: var(--dark-text);
            /* Ensure this text is light on light header (dark mode) */
        }


        .eduvision-logo-header {
            /* Specific class for header logo */
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            /* Remove underline from logo link */
        }

        .eduvision-logo-header svg {
            width: 36px;
            /* Slightly larger logo SVG */
            height: 36px;
            color: var(--secondary-light);
        }

        html.dark-mode .eduvision-logo-header svg {
            color: var(--primary-color);
            /* Use dark mode primary for SVG */
        }


        .logo-text {
            font-size: 1.7rem;
            /* Larger logo text */
            font-weight: 800;
            /* Bolder */
            font-family: 'Nunito Sans', sans-serif;
            color: white;
        }

        html.dark-mode .logo-text {
            color: var(--dark-text);
        }


        .header-nav {
            display: flex;
            align-items: center;
            gap: 1.8rem;
            /* More space between nav items */
        }

        .header-nav a {
            color: white;
            font-weight: 500;
            font-size: 1rem;
            position: relative;
            /* For underline effect */
            padding-bottom: 4px;
        }

        .header-nav a::after {
            /* Underline effect */
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--secondary-light);
            transition: width 0.3s ease;
        }

        .header-nav a:hover::after {
            width: 100%;
        }

        html.dark-mode .header-nav a {
            color: var(--dark-text);
        }

        html.dark-mode .header-nav a:hover {
            color: var(--primary-color);
        }

        html.dark-mode .header-nav a::after {
            background-color: var(--primary-color);
        }


        .theme-toggle {
            background: transparent;
            border: 1px solid var(--secondary-light);
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-lg);
            transition: var(--transition);
        }

        .theme-toggle:hover {
            background-color: var(--secondary-light);
            color: var(--primary-color);
        }

        .theme-toggle svg {
            margin-right: 0.3rem;
        }

        html.dark-mode .theme-toggle {
            border-color: var(--primary-color);
            color: var(--dark-text);
        }

        html.dark-mode .theme-toggle:hover {
            background-color: var(--primary-color);
            color: var(--dark-card);
            /* Text color for contrast */
        }


        /* Sidebar */
        .sidebar {
            position: sticky;
            top: 100px;
            /* Header height + 20px margin */
            align-self: start;
            background-color: var(--light-card);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-md);
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        html.dark-mode .sidebar {
            background-color: var(--dark-card);
        }

        .sidebar-title {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
            border-bottom: 2px solid var(--secondary-light);
            padding-bottom: 0.5rem;
        }

        html.dark-mode .sidebar-title {
            color: var(--primary-light);
            border-bottom-color: var(--primary-dark);
        }

        .toc {
            list-style: none;
            padding-left: 0;
            /* Remove default padding for ul */
        }

        .toc li {
            margin-bottom: 0.75rem;
        }

        .toc a {
            display: block;
            padding: 0.6rem 0;
            color: var(--light-text);
            border-left: 4px solid transparent;
            padding-left: 1.2rem;
            transition: var(--transition);
            font-weight: 500;
            font-size: 0.95rem;
        }

        .toc a:hover {
            color: var(--secondary-color);
            border-left-color: var(--secondary-color);
            background-color: rgba(52, 152, 219, 0.05);
            text-decoration: none;
            transform: translateX(5px);
        }

        .toc a.active {
            color: var(--secondary-dark);
            border-left-color: var(--secondary-dark);
            font-weight: 700;
            background-color: rgba(52, 152, 219, 0.1);
        }

        html.dark-mode .toc a {
            color: var(--dark-text);
        }

        html.dark-mode .toc a:hover {
            color: var(--primary-color);
            border-left-color: var(--primary-color);
            background-color: rgba(93, 173, 226, 0.1);
        }

        html.dark-mode .toc a.active {
            color: var(--primary-light);
            border-left-color: var(--primary-light);
            background-color: rgba(93, 173, 226, 0.15);
        }


        /* Main Content */
        .main-content {
            background-color: var(--light-card);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            /* More prominent shadow for main content */
        }

        html.dark-mode .main-content {
            background-color: var(--dark-card);
        }

        /* Breadcrumbs */
        .breadcrumb-nav {
            display: flex;
            list-style: none;
            padding: 0;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .breadcrumb-nav li {
            margin-bottom: 0.5rem;
        }

        .breadcrumb-nav li a {
            color: var(--secondary-color);
        }

        .breadcrumb-nav li a:hover {
            color: var(--secondary-dark);
        }

        .breadcrumb-nav li+li::before {
            content: ">";
            margin: 0 0.75rem;
            color: var(--light-text);
            opacity: 0.7;
        }

        html.dark-mode .breadcrumb-nav li+li::before {
            color: var(--dark-text);
        }

        .breadcrumb-nav li[aria-current="page"] {
            color: var(--light-text);
            opacity: 0.8;
            font-weight: 500;
        }

        html.dark-mode .breadcrumb-nav li[aria-current="page"] {
            color: var(--dark-text);
        }


        /* Content Card (used for sections) */
        section.content-section {
            /* Renamed from .content-card to be more specific */
            background-color: transparent;
            /* Sections don't need their own card bg if main-content is a card */
            border-radius: var(--radius-md);
            padding: 1rem 0;
            /* Vertical padding for sections */
            margin-bottom: 2.5rem;
            border: none;
            /* No border for sections within main content card */
            box-shadow: none;
            /* No shadow for sections */
        }


        /* Definition Boxes */
        .definition {
            background-color: rgba(52, 152, 219, 0.08);
            /* Softer bg */
            border-left: 5px solid var(--secondary-color);
            padding: 1.25rem 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
        }

        .definition strong {
            color: var(--secondary-dark);
            font-weight: 600;
            display: block;
            /* Label on its own line */
            margin-bottom: 0.3rem;
        }

        .example {
            font-style: italic;
            color: var(--light-text);
            opacity: 0.85;
            margin-top: 0.5rem;
            font-size: 0.95rem;
            padding-left: 0.5rem;
            /* Indent example slightly */
            display: block;
            /* Ensure it takes its own line if needed */
        }

        html.dark-mode .example {
            color: var(--dark-text);
        }

        .image-container {
            text-align: center;
            margin: 1.5rem 0;
        }

        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--light-border);
        }

        html.dark-mode .image-container img {
            border-color: var(--dark-border);
        }

        .image-container figcaption {
            font-size: 0.9rem;
            color: var(--light-text);
            opacity: 0.8;
            margin-top: 0.5rem;
        }

        html.dark-mode .image-container figcaption {
            color: var(--dark-text);
        }


        /* Tables */
        .styled-table {
            /* Changed from .comparison-table to a more generic name */
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            box-shadow: var(--shadow-sm);
            border-radius: var(--radius-md);
            overflow: hidden;
            /* To make border-radius work with th */
            border: 1px solid var(--light-border);
        }

        .styled-table th,
        .styled-table td {
            padding: 1rem 1.25rem;
            text-align: left;
            border-bottom: 1px solid var(--light-border);
        }

        html.dark-mode .styled-table th,
        html.dark-mode .styled-table td {
            border-bottom-color: var(--dark-border);
            border-left-color: var(--dark-border);
            /* Ensure all borders use dark mode color */
        }

        .styled-table th {
            background-color: var(--secondary-light);
            color: var(--primary-dark);
            /* Text color for contrast on light blue */
            font-weight: 600;
        }

        html.dark-mode .styled-table th {
            background-color: var(--primary-dark);
            /* Darker header for table in dark mode */
            color: var(--secondary-light);
        }

        .styled-table tr:nth-child(even) {
            background-color: rgba(52, 152, 219, 0.03);
            /* Very subtle striping */
        }

        html.dark-mode .styled-table tr:nth-child(even) {
            background-color: rgba(93, 173, 226, 0.05);
        }

        .styled-table tr:last-child td {
            border-bottom: none;
        }

        /* Code */
        code,
        .code-block {
            /* Apply similar styling to inline code and code blocks */
            font-family: 'Fira Code', monospace;
            background-color: rgba(231, 76, 60, 0.08);
            /* Softer accent color bg */
            color: var(--accent-color);
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-sm);
            font-size: 0.9rem;
            border: 1px solid rgba(231, 76, 60, 0.2);
        }

        html.dark-mode code,
        html.dark-mode .code-block {
            background-color: rgba(231, 76, 60, 0.15);
            border-color: rgba(231, 76, 60, 0.3);
        }


        pre {
            /* Wrapper for multiple code blocks or larger examples */
            background-color: var(--primary-dark);
            /* Dark bg for code blocks */
            color: #f8f9fa;
            /* Light text */
            padding: 1.25rem;
            border-radius: var(--radius-md);
            overflow-x: auto;
            margin: 1.5rem 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            box-shadow: var(--shadow-sm);
        }

        pre code {
            /* Reset for code inside pre */
            background-color: transparent;
            color: inherit;
            padding: 0;
            border-radius: 0;
            border: none;
            font-size: inherit;
        }

        html.dark-mode pre {
            background-color: #1c1c1c;
            /* Even darker for dark mode code blocks */
            border: 1px solid var(--dark-border);
        }


        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            /* Allow buttons to wrap on smaller screens */
            gap: 1rem;
            /* Add gap for wrapping */
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--light-border);
        }

        html.dark-mode .nav-buttons {
            border-top-color: var(--dark-border);
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            /* More gap */
            padding: 0.85rem 1.8rem;
            /* Slightly larger */
            background-color: var(--secondary-color);
            color: white !important;
            /* Ensure text is white */
            border-radius: var(--radius-md);
            font-weight: 600;
            /* Bolder */
            transition: var(--transition);
            box-shadow: var(--shadow-sm);
            text-decoration: none !important;
            /* Ensure no underline */
            flex-grow: 1;
            /* Allow buttons to grow if space allows */
            text-align: center;
            justify-content: center;
            min-width: 200px;
            /* Minimum width for buttons */
        }

        .nav-button:hover {
            background-color: var(--secondary-dark);
            text-decoration: none !important;
            color: white !important;
            transform: translateY(-3px);
            /* More pronounced lift */
            box-shadow: var(--shadow-md);
        }

        .nav-button svg {
            width: 20px;
            height: 20px;
        }

        /* Details/Summary for Collapsible Sections */
        details {
            background-color: var(--light-card);
            border: 1px solid var(--light-border);
            border-radius: var(--radius-md);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        summary {
            padding: 1rem 1.5rem;
            font-weight: 600;
            color: var(--primary-dark);
            cursor: pointer;
            list-style-position: inside;
            /* Keeps marker aligned */
            transition: background-color 0.2s ease;
            display: block;
            /* Make summary full width to click anywhere */
        }

        summary strong {
            /* If strong tag is used within summary */
            color: inherit;
        }


        summary:hover {
            background-color: rgba(52, 152, 219, 0.05);
        }

        details[open] summary {
            background-color: rgba(52, 152, 219, 0.1);
            border-bottom: 1px solid var(--light-border);
        }

        details>div {
            /* Content of details */
            padding: 1.5rem;
        }

        html.dark-mode details {
            background-color: var(--dark-card);
            border-color: var(--dark-border);
        }

        html.dark-mode summary {
            color: var(--primary-light);
        }

        html.dark-mode summary:hover {
            background-color: rgba(93, 173, 226, 0.1);
        }

        html.dark-mode details[open] summary {
            background-color: rgba(93, 173, 226, 0.15);
            border-bottom-color: var(--dark-border);
        }


        /* Responsive Adjustments */
        @media (max-width: 768px) {
            body {
                padding-top: 70px;
            }

            header.main-header {
                height: 70px;
                padding: 0 1.5rem;
            }

            .header-topic-title {
                font-size: 1em;
            }

            .logo-text {
                font-size: 1.5rem;
            }

            .eduvision-logo-header svg {
                width: 30px;
                height: 30px;
            }

            .header-nav {
                gap: 1rem;
            }

            .header-nav a {
                font-size: 0.9rem;
            }

            .theme-toggle {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }

            .page-container {
                padding: 1.5rem;
            }

            h1 {
                font-size: 2.2rem;
            }

            h2 {
                font-size: 1.9rem;
            }

            h3 {
                font-size: 1.6rem;
            }

            .main-content {
                padding: 1.5rem;
            }
        }

        @media (max-width: 576px) {

            /* Further adjustments for smaller screens */
            .nav-buttons {
                flex-direction: column;
                /* Stack buttons vertically */
            }

            .nav-button {
                width: 100%;
                /* Make buttons full width */
            }
        }


        @media (max-width: 480px) {
            .header-nav a:not(.theme-toggle) {
                display: none;
            }

            /* Hide text links, keep toggle */
            .header-nav {
                justify-content: flex-end;
            }

            .header-topic-title {
                display: none;
            }

            /* Push toggle to right */
            .breadcrumb-nav {
                font-size: 0.8rem;
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Nunito+Sans:wght@700;800;900&family=Fira+Code&display=swap"
        rel="stylesheet">
</head>

<body>
    <header class="main-header">
        <a href="../../../index.html" class="eduvision-logo-header">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM12 6.5c-3.03 0-5.5 2.47-5.5 5.5s2.47 5.5 5.5 5.5 5.5-2.47 5.5-5.5-2.47-5.5-5.5-5.5zm0 9c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z" />
            </svg>
            <span class="logo-text">EduVision</span>
        </a>
        <div class="header-topic-title">Topic 5: Normalization</div>
        <nav class="header-nav">
            <a href="../../../index.html">Home</a>
            <a href="../dbms.html">Syllabus</a>
            <a href="../../../MCQ/">Mock Test</a>
            <a href="../../../About/about.html">About</a>
            <button class="theme-toggle" id="themeToggle">
                <!-- Icon and text will be set by JS -->
            </button>
        </nav>
    </header>

    <div class="page-container">
        <aside class="sidebar">
            <h3 class="sidebar-title">On This Page</h3>
            <ul class="toc" id="tocList">
                <!-- TOC items will be generated by JS -->
            </ul>
        </aside>

        <main class="main-content">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb-nav">
                    <li><a href="../../../index.html">Home</a></li>
                    <li><a href="../dbms.html">Database Systems</a></li>
                    <li aria-current="page">Topic 5: Normalization</li>
                </ol>
            </nav>

            <h1>Topic 5: Normalization</h1>
            <p class="lead">Normalization is a systematic process of organizing data in a database to reduce redundancy
                and improve data integrity by eliminating undesirable characteristics like insertion, update, and
                deletion anomalies.</p>

            <section id="intro-normalization" class="content-section">
                <h2>5.1 Introduction to Normalization</h2>
                <p>Normalization is the process of structuring and handling the relationship between data to minimize
                    redundancy in the relational table and avoid unnecessary anomalies like insertion, update, and
                    delete. It helps to divide large database tables into smaller tables and make a relationship between
                    them. It can remove redundant data and ease the process to add, manipulate, or delete table fields.
                </p>
                <p>A normalization defines rules for the relational table to assess whether it satisfies the normal
                    form. A normal form is a process that evaluates each relation against defined criteria and removes
                    multivalued attributes, joins, functional, and trivial dependencies from a relation. If any data is
                    updated, deleted, or inserted, it does not cause any problem for database tables and helps to
                    improve the relational table's integrity and efficiency.</p>
                <h5>Purpose of Normalization:</h5>
                <ul>
                    <li>To minimize data redundancy from a relation or set of relations.</li>
                    <li>To eliminate undesirable characteristics like Insertion, Update, and Deletion Anomalies.</li>
                    <li>To divide larger tables into smaller, more manageable tables and link them using relationships.
                    </li>
                    <li>To reduce the chances for anomalies to occur in a database.</li>
                </ul>
                <h5>Objective of Normalization:</h5>
                <ol>
                    <li>It is used to remove duplicate data and database anomalies from the relational table.</li>
                    <li>Normalization helps to reduce redundancy and complexity by examining new data types used in the
                        table.</li>
                    <li>It is helpful to divide the large database table into smaller tables and link them using
                        relationships.</li>
                    <li>It avoids duplicate data or no repeating groups in a table.</li>
                    <li>It reduces the chances for anomalies to occur in a database.</li>
                </ol>
                <h5>Types of Anomalies:</h5>
                <ol>
                    <li><strong>Data Redundancy:</strong> Occurs in a relational database when two or more rows or
                        columns have the same value or repetitive value leading to unnecessary utilization of memory.
                    </li>
                    <li><strong>Insert Anomaly:</strong> Occurs when certain attributes or data items are to be inserted
                        into the database without the existence of other attributes. For example, if we want to insert a
                        new `CourseID` but no student is yet enrolled, it might be difficult if the table requires
                        student information.</li>
                    <li><strong>Update Anomaly:</strong> Occurs when duplicate data is updated only in one place and not
                        in all instances, making the data inconsistent. For example, if a student's course is updated in
                        one record but not others where it appears.</li>
                    <li><strong>Delete Anomaly:</strong> Occurs when some records are lost or deleted from the database
                        table due to the deletion of other records. For example, deleting a student might also remove
                        their course details if all information is in one table.</li>
                </ol>
            </section>

            <section id="functional-dependencies" class="content-section">
                <h2>5.2 Functional Dependencies (FD)</h2>
                <div class="definition">
                    <strong>Functional Dependency (FD):</strong> A constraint between two attributes (or sets of
                    attributes) in a relation. An FD, denoted as X → Y, states that if two tuples have the same values
                    for attributes X, then they must also have the same values for attributes Y. X functionally
                    determines Y.
                </div>
                <p>Functional dependency is represented by an arrow sign (→). The left-hand side attributes
                    (determinant) determine the values of attributes on the right-hand side (dependent).</p>

                <h5>Armstrong's Axioms (Inference Rules for FDs):</h5>
                <p>If F is a set of functional dependencies, then the closure of F, denoted as F<sup>+</sup>, is the set
                    of all functional dependencies logically implied by F. Armstrong's Axioms are a set of rules that,
                    when applied repeatedly, generate F<sup>+</sup>.</p>
                <ul>
                    <li><strong>Reflexive Rule:</strong> If Y is a subset of X (Y ⊆ X), then X → Y holds. (Trivial FD)
                    </li>
                    <li><strong>Augmentation Rule:</strong> If X → Y holds and Z is any set of attributes, then XZ → YZ
                        holds.</li>
                    <li><strong>Transitivity Rule:</strong> If X → Y holds and Y → Z holds, then X → Z also holds.</li>
                </ul>
                <h5>Additional (Derived) Inference Rules:</h5>
                <ul>
                    <li><strong>Union Rule:</strong> If X → Y holds and X → Z holds, then X → YZ holds.</li>
                    <li><strong>Decomposition Rule:</strong> If X → YZ holds, then X → Y holds and X → Z holds.</li>
                    <li><strong>Pseudo Transitivity Rule:</strong> If X → Y holds and WY → Z holds, then WX → Z holds.
                    </li>
                </ul>

                <h5>Types of Functional Dependencies:</h5>
                <ul>
                    <li><strong>Trivial Functional Dependency:</strong> An FD X → Y is trivial if Y is a subset of X (Y
                        ⊆ X). Trivial FDs always hold.</li>
                    <li><strong>Non-trivial Functional Dependency:</strong> An FD X → Y is non-trivial if Y is not a
                        subset of X (Y <binary data, 1 bytes> X).</li>
                    <li><strong>Completely Non-trivial Functional Dependency:</strong> An FD X → Y is completely
                        non-trivial if X intersect Y = ∅ (X and Y have no common attributes).</li>
                </ul>
                <h5>Closure of a Set of Functional Dependencies (F<sup>+</sup>):</h5>
                <p>Given a relational schema R, a functional dependency f on R is logically implied by a set of
                    functional dependencies F on R if every relation instance r(R) that satisfies F also satisfies f.
                    The closure of F, denoted by F<sup>+</sup>, is the set of all functional dependencies logically
                    implied by F. It can be found by applying Armstrong's axioms.</p>
                <span class="example">
                    Suppose we have a relation schema R=(A,B,C,G,H,I) and the set of functional dependencies F = {A→B,
                    A→C, CG→H, CG→I, B→H}.
                    <ol>
                        <li>A→H, since A→B and B→H (Transitivity rule).</li>
                        <li>CG→HI, since CG→H and CG→I (Union rule).</li>
                        <li>AG→I, since A→C and CG→I (Pseudo transitivity rule, where W=G, X=A, Y=C, Z=I. Here, A→C
                            means AC→C. And GAC→I). This example might be a bit complex for pseudo-transitivity as
                            written, a simpler interpretation is needed or a direct application. A more direct example
                            for pseudo-transitivity: if A→B and CB→D, then AC→D. In the given FDs for AG→I, it implies
                            A→C, so AG determines CG, and CG→I implies AG→I.</li>
                    </ol>
                </span>
                <h5>Full Functional Dependency:</h5>
                <p>An attribute Y is fully functionally dependent on a set of attributes X if Y is functionally
                    dependent on X (X → Y), and Y is not functionally dependent on any proper subset of X.</p>
                <h5>Partial Dependency:</h5>
                <p>A partial dependency occurs when a non-prime attribute is functionally dependent on only a part of a
                    composite candidate key.</p>
                <h5>Prime and Non-Prime Attributes:</h5>
                <ul>
                    <li><strong>Prime Attribute:</strong> An attribute that is part of any candidate key of a relation.
                    </li>
                    <li><strong>Non-Prime Attribute:</strong> An attribute that is not part of any candidate key.</li>
                </ul>
            </section>

            <section id="normal-forms" class="content-section">
                <h2>Types of Normal Forms</h2>
                <p>Normalization is achieved by applying a series of tests to relations to determine if they satisfy
                    certain "normal forms." The most common normal forms are 1NF, 2NF, 3NF, and BCNF. Higher normal
                    forms (4NF, 5NF) address more complex dependencies.</p>
                <div class="image-container">
                    <img src="https://i.imgur.com/Y4e6A2x.png" alt="Types of Normal Forms Diagram"
                        style="max-width: 500px;">
                    <figcaption>Hierarchy of Normal Forms.</figcaption>
                </div>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Normal Form</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>1NF (First Normal Form)</strong></td>
                            <td>A relation is in 1NF if all its attributes contain only atomic (indivisible) values.
                                Each cell should hold a single value. It disallows multi-valued attributes, composite
                                attributes, and their combinations as direct cell values.</td>
                        </tr>
                        <tr>
                            <td><strong>2NF (Second Normal Form)</strong></td>
                            <td>A relation is in 2NF if it is in 1NF and all non-key (non-prime) attributes are fully
                                functionally dependent on the entire primary key. It eliminates partial dependencies on
                                composite primary keys.</td>
                        </tr>
                        <tr>
                            <td><strong>3NF (Third Normal Form)</strong></td>
                            <td>A relation is in 3NF if it is in 2NF and there are no transitive dependencies for
                                non-key attributes. This means no non-key attribute is functionally dependent on another
                                non-key attribute.</td>
                        </tr>
                        <tr>
                            <td><strong>BCNF (Boyce-Codd Normal Form)</strong></td>
                            <td>A stricter version of 3NF. A relation is in BCNF if for every non-trivial functional
                                dependency X → Y, X is a superkey.</td>
                        </tr>
                        <tr>
                            <td><strong>4NF (Fourth Normal Form)</strong></td>
                            <td>A relation is in 4NF if it is in BCNF and has no multi-valued dependencies (MVDs).</td>
                        </tr>
                        <tr>
                            <td><strong>5NF (Fifth Normal Form / PJNF - Project-Join Normal Form)</strong></td>
                            <td>A relation is in 5NF if it is in 4NF and does not contain any join dependencies, and
                                joining should be lossless.</td>
                        </tr>
                    </tbody>
                </table>

                <details id="1nf">
                    <summary>
                        <h3>5.3 First Normal Form (1NF)</h3>
                    </summary>
                    <div>
                        <p>A relation is in 1NF if all its attributes contain atomic values, meaning each cell contains
                            a single value. It prohibits multi-valued attributes and composite attributes from being
                            stored directly in a single cell.</p>
                        <span class="example">Consider an EMPLOYEE table:
                            <table class="styled-table">
                                <tr>
                                    <th>EMP_ID</th>
                                    <th>EMP_NAME</th>
                                    <th>EMP_PHONE</th>
                                    <th>EMP_STATE</th>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td>John</td>
                                    <td>7272826395, 9064738238</td>
                                    <td>UP</td>
                                </tr>
                                <tr>
                                    <td>20</td>
                                    <td>Harry</td>
                                    <td>8574783832</td>
                                    <td>Bihar</td>
                                </tr>
                            </table>
                            This is not in 1NF because EMP_PHONE is multi-valued. To convert to 1NF:
                            <table class="styled-table">
                                <tr>
                                    <th>EMP_ID</th>
                                    <th>EMP_NAME</th>
                                    <th>EMP_PHONE</th>
                                    <th>EMP_STATE</th>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td>John</td>
                                    <td>7272826395</td>
                                    <td>UP</td>
                                </tr>
                                <tr>
                                    <td>14</td>
                                    <td>John</td>
                                    <td>9064738238</td>
                                    <td>UP</td>
                                </tr>
                                <tr>
                                    <td>20</td>
                                    <td>Harry</td>
                                    <td>8574783832</td>
                                    <td>Bihar</td>
                                </tr>
                            </table>
                        </span>
                    </div>
                </details>

                <details id="2nf">
                    <summary>
                        <h3>5.4 Second Normal Form (2NF)</h3>
                    </summary>
                    <div>
                        <p>A relation is in 2NF if it is in 1NF and every non-prime attribute is fully functionally
                            dependent on the entire primary key. This means there should be no partial dependencies
                            (where a non-prime attribute depends on only a part of a composite primary key).</p>
                        <span class="example">Assume a TEACHER_SUBJECT table with (<u>TEACHER_ID</u>, <u>SUBJECT</u>,
                            TEACHER_AGE). Here, (TEACHER_ID, SUBJECT) is the primary key. TEACHER_AGE depends only on
                            TEACHER_ID (a part of the PK), which is a partial dependency.
                            <br>Decomposition to 2NF:
                            <br><strong>TEACHER_DETAIL</strong> (<u>TEACHER_ID</u>, TEACHER_AGE)
                            <br><strong>TEACHER_SUBJECT_MAPPING</strong> (<u>TEACHER_ID</u>, <u>SUBJECT</u>)
                        </span>
                    </div>
                </details>

                <details id="3nf">
                    <summary>
                        <h3>5.5 Third Normal Form (3NF)</h3>
                    </summary>
                    <div>
                        <p>A relation is in 3NF if it is in 2NF and there are no transitive dependencies. A transitive
                            dependency exists when a non-prime attribute depends on another non-prime attribute, rather
                            than directly on the primary key.</p>
                        <p>Formally, a relation R is in 3NF if for every non-trivial FD X → A, either:</p>
                        <ol>
                            <li>X is a superkey of R, OR</li>
                            <li>A is a prime attribute of R.</li>
                        </ol>
                        <span class="example">Consider EMPLOYEE_DETAIL (<u>EMP_ID</u>, EMP_NAME, EMP_ZIP, EMP_STATE,
                            EMP_CITY).
                            <br>FDs: EMP_ID → EMP_NAME, EMP_ID → EMP_ZIP, EMP_ZIP → EMP_STATE, EMP_ZIP → EMP_CITY.
                            <br>Here, EMP_STATE and EMP_CITY depend on EMP_ZIP (non-prime) which depends on EMP_ID (PK).
                            This is a transitive dependency.
                            <br>Decomposition to 3NF:
                            <br><strong>EMPLOYEE</strong> (<u>EMP_ID</u>, EMP_NAME, EMP_ZIP)
                            <br><strong>EMPLOYEE_ZIP</strong> (<u>EMP_ZIP</u>, EMP_STATE, EMP_CITY)
                        </span>
                    </div>
                </details>

                <details id="bcnf">
                    <summary>
                        <h3>5.6 Boyce-Codd Normal Form (BCNF)</h3>
                    </summary>
                    <div>
                        <p>BCNF is a stricter version of 3NF. A relation is in BCNF if for every non-trivial functional
                            dependency X → Y, X must be a superkey of the table. Most relations in 3NF are also in BCNF.
                            BCNF addresses certain anomalies not handled by 3NF, especially when there are multiple
                            overlapping candidate keys.</p>
                        <span class="example">Consider a table (EMP_ID, EMP_COUNTRY, EMP_DEPT, DEPT_TYPE, EMP_DEPT_NO)
                            <br>FDs: EMP_ID → EMP_COUNTRY; EMP_DEPT → {DEPT_TYPE, EMP_DEPT_NO}
                            <br>Candidate Key: (EMP_ID, EMP_DEPT)
                            <br>The table is not in BCNF because in EMP_DEPT → {DEPT_TYPE, EMP_DEPT_NO}, EMP_DEPT is not
                            a superkey.
                            <br>Decomposition to BCNF:
                            <br><strong>EMP_COUNTRY_TABLE</strong> (<u>EMP_ID</u>, EMP_COUNTRY)
                            <br><strong>EMP_DEPT_TABLE</strong> (<u>EMP_DEPT</u>, DEPT_TYPE, EMP_DEPT_NO)
                            <br><strong>EMP_DEPT_MAPPING_TABLE</strong> (<u>EMP_ID</u>, <u>EMP_DEPT</u>)
                        </span>
                    </div>
                </details>

                <details id="higher-nf">
                    <summary>
                        <h3>5.7 4NF and 5NF (Overview)</h3>
                    </summary>
                    <div>
                        <h5>Fourth Normal Form (4NF):</h5>
                        <p>A relation is in 4NF if it is in BCNF and has no multi-valued dependencies (MVDs). An MVD X
                            →→ Y exists if for a given value of X, there is a set of values for Y, and this set is
                            independent of the values of other attributes Z in the relation R(X,Y,Z).</p>
                        <span class="example">A table (Vendor, ItemCode, ProjectNo) where a vendor supplies multiple
                            items, a project uses multiple items, and an item may be supplied by many vendors. This can
                            lead to MVDs if not structured properly, e.g., Vendor →→ ItemCode and Vendor →→ ProjectNo
                            might exist independently. 4NF would decompose this.</span>

                        <h5>Fifth Normal Form (5NF) / Project-Join Normal Form (PJNF):</h5>
                        <p>A relation is in 5NF if it is in 4NF and every join dependency (JD) is implied by the
                            candidate keys of the relation. A join dependency specifies that a relation can be
                            losslessly reconstructed by joining certain projections of it. 5NF deals with cases where
                            information can be reconstructed from smaller pieces of information that can be maintained
                            with less redundancy.</p>
                        <p>5NF aims to eliminate redundancy due to join dependencies where the join of certain
                            projections of the table is equal to the original table, but this join is not implied by a
                            candidate key.</p>
                    </div>
                </details>
            </section>

            <section id="decomposition" class="content-section">
                <h2>5.8 Decomposition</h2>
                <p>Decomposition is the process of breaking down a single relation (table) into two or more
                    sub-relations (smaller tables) to achieve higher normal forms and reduce anomalies.</p>
                <h5>Properties of Good Decomposition:</h5>
                <ul>
                    <li><strong>Lossless Join Decomposition:</strong> Ensures that no information is lost from the
                        original relation during decomposition. When the sub-relations are joined back together using a
                        natural join, the original relation must be obtained. For a decomposition of R into R1 and R2 to
                        be lossless, (R1 ∩ R2) must be a superkey for either R1 or R2.</li>
                    <li><strong>Dependency Preservation:</strong> Ensures that all functional dependencies that hold on
                        the original relation are either directly present in one of the sub-relations or can be inferred
                        from the dependencies within the sub-relations.</li>
                </ul>
                <h5>Types of Decomposition:</h5>
                <ul>
                    <li><strong>Lossless Join Decomposition:</strong> As defined above, the join of sub-relations
                        results in the same relation that was decomposed. For R decomposed into R1, R2, ..., Rn, the
                        natural join R1 ⨝ R2 ⨝ ... ⨝ Rn = R.</li>
                    <li><strong>Lossy Join Decomposition:</strong> The join of sub-relations results in a relation that
                        contains spurious (extra, incorrect) tuples that were not in the original relation. This is
                        undesirable.</li>
                </ul>
            </section>

            <section id="normalization-advantages-disadvantages" class="content-section">
                <h2>Advantages and Disadvantages of Normalization</h2>
                <h3>Advantages:</h3>
                <ul>
                    <li>Minimizes data redundancy.</li>
                    <li>Greater overall database organization and clarity.</li>
                    <li>Improved data consistency within the database.</li>
                    <li>More flexible database design, easier to modify.</li>
                    <li>Enforces the concept of relational integrity.</li>
                    <li>Reduces the risk of data anomalies (insertion, update, deletion).</li>
                    <li>Smaller tables can lead to more efficient data access for certain queries.</li>
                </ul>
                <h3>Disadvantages:</h3>
                <ul>
                    <li>Requires a good understanding of data and user needs before building the database.</li>
                    <li>Performance can sometimes degrade for queries requiring joins across many normalized tables
                        (denormalization is sometimes used for performance-critical applications).</li>
                    <li>Can be time-consuming and complex to normalize relations to higher normal forms.</li>
                    <li>Careless decomposition can lead to a bad database design or lossy joins.</li>
                    <li>Increased number of tables can make some queries more complex to write.</li>
                </ul>
            </section>


            <div class="nav-buttons">
                <a href="topic-4.html" class="nav-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Previous: SQL
                </a>
                <a href="../dbms.html" class="nav-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-list">
                        <line x1="8" y1="6" x2="21" y2="6"></line>
                        <line x1="8" y1="12" x2="21" y2="12"></line>
                        <line x1="8" y1="18" x2="21" y2="18"></line>
                        <line x1="3" y1="6" x2="3.01" y2="6"></line>
                        <line x1="3" y1="12" x2="3.01" y2="12"></line>
                        <line x1="3" y1="18" x2="3.01" y2="18"></line>
                    </svg>
                    Back to Syllabus
                </a>
                <a href="topic-6.html" class="nav-button">
                    Next: Transactions & Concurrency
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                        <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                </a>
            </div>
        </main>
    </div>

    <script>
        // Theme Toggle
        const themeToggleButton = document.getElementById('themeToggle');
        const htmlElement = document.documentElement;

        function applyTheme(theme) {
            if (theme === 'dark') {
                htmlElement.classList.add('dark-mode');
                themeToggleButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <span>Light Mode</span>`;
            } else {
                htmlElement.classList.remove('dark-mode');
                themeToggleButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <span>Dark Mode</span>`;
            }
        }

        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);

        themeToggleButton.addEventListener('click', () => {
            const newTheme = htmlElement.classList.contains('dark-mode') ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        });

        // Table of Contents (TOC) Generator and Active Link Highlighting
        document.addEventListener('DOMContentLoaded', () => {
            const tocList = document.getElementById('tocList');
            const mainHeader = document.querySelector('header.main-header');
            const headerHeight = mainHeader ? mainHeader.offsetHeight : 80;
            const sections = document.querySelectorAll('.main-content section[id]');
            let tocLinks = [];

            if (tocList && sections.length > 0) {
                sections.forEach(section => {
                    const titleElement = section.querySelector('h2');
                    if (titleElement) {
                        const titleText = titleElement.textContent;
                        const sectionId = section.id;

                        const listItem = document.createElement('li');
                        const link = document.createElement('a');
                        link.href = `#${sectionId}`;
                        link.textContent = titleText;
                        link.addEventListener('click', (e) => {
                            e.preventDefault();
                            const targetElement = document.getElementById(sectionId);
                            if (targetElement) {
                                const scrollToPosition = targetElement.offsetTop - headerHeight - 20; // 20px offset
                                window.scrollTo({
                                    top: scrollToPosition,
                                    behavior: 'smooth'
                                });
                                updateActiveTocLink(sectionId);
                            }
                        });
                        listItem.appendChild(link);
                        tocList.appendChild(listItem);
                        tocLinks.push(link);
                    }
                });

                function updateActiveTocLink(activeId) {
                    tocLinks.forEach(link => {
                        if (link.getAttribute('href') === `#${activeId}`) {
                            link.classList.add('active');
                        } else {
                            link.classList.remove('active');
                        }
                    });
                }

                const observerOptions = {
                    root: null,
                    rootMargin: `-${headerHeight + 20}px 0px -60% 0px`,
                    threshold: 0
                };

                let lastIntersectingSectionId = null;

                const observer = new IntersectionObserver(entries => {
                    let currentIntersectingEntry = null;
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            if (!currentIntersectingEntry || entry.intersectionRatio > currentIntersectingEntry.intersectionRatio) {
                                currentIntersectingEntry = entry;
                            }
                        }
                    });

                    if (currentIntersectingEntry) {
                        lastIntersectingSectionId = currentIntersectingEntry.target.id;
                        updateActiveTocLink(lastIntersectingSectionId);
                    } else if (entries.length > 0 && !entries.some(e => e.isIntersecting) && lastIntersectingSectionId) {
                        updateActiveTocLink(lastIntersectingSectionId);
                    }

                }, observerOptions);

                sections.forEach(section => {
                    observer.observe(section);
                });
                const currentHash = window.location.hash.substring(1);
                if (currentHash) {
                    updateActiveTocLink(currentHash);
                } else if (sections.length > 0) {
                    updateActiveTocLink(sections[0].id);
                }


            } else if (tocList) {
                const sidebar = document.querySelector('.sidebar');
                if (sidebar) sidebar.style.display = 'none';
            }
        });
    </script>
</body>

</html>